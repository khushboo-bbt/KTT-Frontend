<div class="container my-1 d-flex justify-content-center py-4">
    <div class="main">
      <div class="row card" style="width: 400px;">
        <div class="card-body">
          <div class="position-relative text-center mb-3">
            <button class="btn p-0 position-absolute start-0" routerLink="/forgot-password">
              <img src="../../../assets/icons/arrow-right.svg" alt="" style="transform: rotate(180deg); width: 20px;">
            </button>
            <h5 class="heading mb-0">Reset Password</h5>
          </div> 
          <p class="text-center">Sent you a OTP on your registered email</p>
          <hr class="mb-4" />
  
          <form [formGroup]="resetPasswordForm" (ngSubmit)="onSubmit()">
            <!-- OTP Field -->
            <div class="form-group mb-3">
              <label for="otp" class="form-label">Verify OTP</label>
              <input 
                type="number"
                class="form-control"
                id="otp"
                formControlName="otp"
                placeholder="Enter OTP"
                [ngClass]="{'is-invalid': resetPasswordForm.get('otp')?.invalid && resetPasswordForm.get('otp')?.touched}"
              />
              <div *ngIf="resetPasswordForm.get('otp')?.invalid && resetPasswordForm.get('otp')?.touched" class="text-danger small">
                OTP is required.
              </div>
            </div>
          
            <!-- New Password Field -->
            <div class="form-group mb-3">
              <label for="new-password" class="form-label">New Password</label>
              <input 
                type="password"
                class="form-control"
                id="new-password"
                formControlName="newPassword"
                placeholder="Enter New Password"
                [ngClass]="{'is-invalid': resetPasswordForm.get('newPassword')?.invalid && resetPasswordForm.get('newPassword')?.touched}"
              />
              <div *ngIf="resetPasswordForm.get('newPassword')?.invalid && resetPasswordForm.get('newPassword')?.touched" class="text-danger small">
                Password is required (Min. 6 characters).
              </div>
            </div>
          
            <!-- Confirm Password Field -->
            <div class="form-group mb-3">
              <label for="confirm-password" class="form-label">Confirm Password</label>
              <input 
                type="password"
                class="form-control"
                id="confirm-password"
                formControlName="confirmPassword"
                placeholder="Confirm Password"
                [ngClass]="{'is-invalid': resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched}"
              />
              <div *ngIf="resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched" class="text-danger small">
                Confirm Password is required.
              </div>
              <div *ngIf="resetPasswordForm.hasError('mismatch')" class="text-danger small">
                Passwords do not match.
              </div>
            </div>
          
            <button type="submit" class="btn continue-btn w-100 mb-2">Continue</button>
            <button type="button" class="btn border-0 w-100 mb-2" [disabled]="isResendDisabled" (click)="resendOtp()">
              Resend OTP {{ countdown > 0 ? '(' + countdown + 's)' : '' }}
            </button> 
          </form>
                   
  
          <!-- Footer Note -->
          <div class="d-flex text-center px-3">
            <span style="font-size: 10px">
              By proceeding, you agree to KwikTravelTrip
              <a class="links-text">Privacy Policy</a>,
              <a class="links-text">User Agreement</a> and <a class="links-text">T&Cs</a>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
<app-common-alert [message]="modalMessage"></app-common-alert>